/*! For license information please see main.0deff551.chunk.js.LICENSE.txt */
(this.webpackJsonpreactjs=this.webpackJsonpreactjs||[]).push([[0],{111:function(e,t,r){},159:function(e,t,r){},258:function(e,t,r){e.exports=r(462)},263:function(e,t,r){},264:function(e,t,r){},285:function(e,t,r){},307:function(e,t){},312:function(e,t){},314:function(e,t){},324:function(e,t){},326:function(e,t){},353:function(e,t){},354:function(e,t){},359:function(e,t){},361:function(e,t){},368:function(e,t){},387:function(e,t){},432:function(e,t){},458:function(e,t,r){},462:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),o=r(11),c=r.n(o),i=(r(263),r(245)),s=r(17),l=(r(264),r(33)),u=r(34),h=r(497),f=r(498),m=r(500),p=r(502),d=r(499),y=r(236),v=r.n(y),g=r(492),E=r(496),b=function(e){var t=e.goback;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",null,a.a.createElement(g.a,null,a.a.createElement(E.a,null,a.a.createElement(v.a,{style:{color:"orange",fontSize:"4.1rem"}}),a.a.createElement("h4",null,"Not able to join the room")),a.a.createElement(E.a,null,"Room could be full"),a.a.createElement(E.a,null,"Shared link could be invalid"),a.a.createElement(E.a,{style:{justifyContent:"center"},onClick:function(){return t()}},a.a.createElement("h5",{style:{textDecoration:"underline",cursor:"pointer"}},"Go back")))))},w=r(73),x=r(504),j=r(238),k=r.n(j);r(111);function O(){O=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},c=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,c=Object.create(o.prototype),i=new I(n||[]);return a(c,"_invoke",{value:N(e,r,i)}),c}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",m="executing",p="completed",d={};function y(){}function v(){}function g(){}var E={};l(E,c,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(C([])));w&&w!==r&&n.call(w,c)&&(E=w);var x=g.prototype=y.prototype=Object.create(E);function j(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(a,o,c,i){var s=h(e[a],e,o);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==typeof u&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,c,i)}),(function(e){r("throw",e,c,i)})):t.resolve(u).then((function(e){l.value=e,c(l)}),(function(e){return r("throw",e,c,i)}))}i(s.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function N(t,r,n){var a=f;return function(o,c){if(a===m)throw new Error("Generator is already running");if(a===p){if("throw"===o)throw c;return{value:e,done:!0}}for(n.method=o,n.arg=c;;){var i=n.delegate;if(i){var s=L(i,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===f)throw a=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var l=h(t,r,n);if("normal"===l.type){if(a=n.done?p:"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=p,n.method="throw",n.arg=l.arg)}}}function L(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,L(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=h(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,d;var c=o.arg;return c?c.done?(r[t.resultName]=c.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,d):c:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function C(t){if(t||""===t){var r=t[c];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return v.prototype=g,a(x,"constructor",{value:g,configurable:!0}),a(g,"constructor",{value:v,configurable:!0}),v.displayName=l(g,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,l(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},j(k.prototype),l(k.prototype,i,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var c=new k(u(e,r,n,a),o);return t.isGeneratorFunction(r)?c:c.next().then((function(e){return e.done?e.value:c.next()}))},j(x),l(x,s,"Generator"),l(x,c,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=C,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(S),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return i.type="throw",i.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var c=this.tryEntries[o],i=c.completion;if("root"===c.tryLoc)return a("end");if(c.tryLoc<=this.prev){var s=n.call(c,"catchLoc"),l=n.call(c,"finallyLoc");if(s&&l){if(this.prev<c.catchLoc)return a(c.catchLoc,!0);if(this.prev<c.finallyLoc)return a(c.finallyLoc)}else if(s){if(this.prev<c.catchLoc)return a(c.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return a(c.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;S(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:C(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),d}},t}var N=function(e){var t=e.id,r=Object(n.useState)(!1),o=Object(u.a)(r,2),c=o[0],i=o[1],s=function(){var e=Object(l.a)(O().mark((function e(){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.clipboard.writeText("http://localhost:3000?join=".concat(t));case 3:i(!0),setTimeout((function(){return i(!1)}),1e3),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Error",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return a.a.createElement("span",null,a.a.createElement(x.a,{open:c,anchorOrigin:{vertical:"top",horizontal:"center"}},a.a.createElement("div",{className:"copy-success"},a.a.createElement("p",null,"Link copied to clipboard"))),a.a.createElement("p",null,"Share the below link with your friend to join the room."),a.a.createElement("div",{className:"share-link"},a.a.createElement(p.a,{fullWidth:!0,value:"http://localhost:3000?join=".concat(t),disabled:!0}),a.a.createElement(k.a,{fontSize:"small",onClick:s})),a.a.createElement("p",{className:"user-info"},"(Please note currently one-one chat is only supported)"))},L=r(48),_=r(49),S=r(107),I=r.n(S);function C(){C=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},c=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,c=Object.create(o.prototype),i=new S(n||[]);return a(c,"_invoke",{value:O(e,r,i)}),c}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",m="executing",p="completed",d={};function y(){}function v(){}function g(){}var E={};l(E,c,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(I([])));w&&w!==r&&n.call(w,c)&&(E=w);var x=g.prototype=y.prototype=Object.create(E);function j(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(a,o,c,i){var s=h(e[a],e,o);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==typeof u&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,c,i)}),(function(e){r("throw",e,c,i)})):t.resolve(u).then((function(e){l.value=e,c(l)}),(function(e){return r("throw",e,c,i)}))}i(s.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function O(t,r,n){var a=f;return function(o,c){if(a===m)throw new Error("Generator is already running");if(a===p){if("throw"===o)throw c;return{value:e,done:!0}}for(n.method=o,n.arg=c;;){var i=n.delegate;if(i){var s=N(i,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===f)throw a=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var l=h(t,r,n);if("normal"===l.type){if(a=n.done?p:"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=p,n.method="throw",n.arg=l.arg)}}}function N(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,N(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=h(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,d;var c=o.arg;return c?c.done?(r[t.resultName]=c.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,d):c:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function I(t){if(t||""===t){var r=t[c];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return v.prototype=g,a(x,"constructor",{value:g,configurable:!0}),a(g,"constructor",{value:v,configurable:!0}),v.displayName=l(g,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,l(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},j(k.prototype),l(k.prototype,i,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var c=new k(u(e,r,n,a),o);return t.isGeneratorFunction(r)?c:c.next().then((function(e){return e.done?e.value:c.next()}))},j(x),l(x,s,"Generator"),l(x,c,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=I,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(_),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return i.type="throw",i.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var c=this.tryEntries[o],i=c.completion;if("root"===c.tryLoc)return a("end");if(c.tryLoc<=this.prev){var s=n.call(c,"catchLoc"),l=n.call(c,"finallyLoc");if(s&&l){if(this.prev<c.catchLoc)return a(c.catchLoc,!0);if(this.prev<c.finallyLoc)return a(c.finallyLoc)}else if(s){if(this.prev<c.catchLoc)return a(c.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return a(c.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:I(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),d}},t}var F=Object(L.a)((function e(){var t=this;Object(_.a)(this,e),this.getRoomId=Object(l.a)(C().mark((function e(){var r,n;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.post("".concat(t.roomUrl,"/create"));case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)}))),this.removeRoomId=function(){var e=Object(l.a)(C().mark((function e(r){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.post("".concat(t.roomUrl,"/remove"),{id:r});case 2:return e.abrupt("return",!0);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.createUser=function(){var e=Object(l.a)(C().mark((function e(r,n){var a,o;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.post("".concat(t.userUrl,"/create"),{name:r,roomId:n});case 2:return a=e.sent,o=a.data,e.abrupt("return",o);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),this.roomUrl="/room",this.userUrl="/user"})),A=r(24),G=r(239),P=r.n(G),K=r(240),T=r.n(K),B={display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between",height:"100%"},U={backgroundColor:"green",color:"white"},D={color:"white"},M=function(e){var t=e.onInvite,r=e.onDemo;return a.a.createElement(a.a.Fragment,null,a.a.createElement(h.a,{className:"material-card"},a.a.createElement(f.a,{style:Object(A.a)(Object(A.a)({},B),{},{opacity:.3})},a.a.createElement("div",{className:"material-card-icon one"}),a.a.createElement("p",null,"Invite your friend and have some fun!!!.Don't worry the conversation is completely encrypted."),a.a.createElement("div",{className:"btn-grp btn-invite"},a.a.createElement(d.a,{disabled:!0,onClick:function(){return t()},style:Object(A.a)(Object(A.a)({},U),{},{backgroundColor:"#FF8C00"})},"Invite"),a.a.createElement(P.a,{style:D})))),a.a.createElement(h.a,{className:"material-card"},a.a.createElement(f.a,{style:B},a.a.createElement("div",{className:"material-card-icon two"}),a.a.createElement("p",null,"Explore how the end to end encryption works by visualizing a sample conversation"),a.a.createElement("div",{className:"btn-grp btn-demo"},a.a.createElement(d.a,{onClick:function(){return r()},style:U},"Explore"),a.a.createElement(T.a,{style:D})))))};function R(){R=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},c=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,c=Object.create(o.prototype),i=new S(n||[]);return a(c,"_invoke",{value:O(e,r,i)}),c}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",m="executing",p="completed",d={};function y(){}function v(){}function g(){}var E={};l(E,c,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(I([])));w&&w!==r&&n.call(w,c)&&(E=w);var x=g.prototype=y.prototype=Object.create(E);function j(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(a,o,c,i){var s=h(e[a],e,o);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==typeof u&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,c,i)}),(function(e){r("throw",e,c,i)})):t.resolve(u).then((function(e){l.value=e,c(l)}),(function(e){return r("throw",e,c,i)}))}i(s.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function O(t,r,n){var a=f;return function(o,c){if(a===m)throw new Error("Generator is already running");if(a===p){if("throw"===o)throw c;return{value:e,done:!0}}for(n.method=o,n.arg=c;;){var i=n.delegate;if(i){var s=N(i,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===f)throw a=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var l=h(t,r,n);if("normal"===l.type){if(a=n.done?p:"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=p,n.method="throw",n.arg=l.arg)}}}function N(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,N(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=h(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,d;var c=o.arg;return c?c.done?(r[t.resultName]=c.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,d):c:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function I(t){if(t||""===t){var r=t[c];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return v.prototype=g,a(x,"constructor",{value:g,configurable:!0}),a(g,"constructor",{value:v,configurable:!0}),v.displayName=l(g,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,l(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},j(k.prototype),l(k.prototype,i,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var c=new k(u(e,r,n,a),o);return t.isGeneratorFunction(r)?c:c.next().then((function(e){return e.done?e.value:c.next()}))},j(x),l(x,s,"Generator"),l(x,c,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=I,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(_),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return i.type="throw",i.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var c=this.tryEntries[o],i=c.completion;if("root"===c.tryLoc)return a("end");if(c.tryLoc<=this.prev){var s=n.call(c,"catchLoc"),l=n.call(c,"finallyLoc");if(s&&l){if(this.prev<c.catchLoc)return a(c.catchLoc,!0);if(this.prev<c.finallyLoc)return a(c.finallyLoc)}else if(s){if(this.prev<c.catchLoc)return a(c.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return a(c.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:I(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),d}},t}var z={display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between",height:"100%"},Y={backgroundColor:"green",color:"white"},J=Object(w.b)(null,(function(e){return{setSharedKey:function(t){return e({type:"setsharedkey",payload:t}),Promise.resolve()},setNameAndKey:function(t){return e({type:"setnameandkey",payload:t}),Promise.resolve()}}}))((function(e){var t=e.history,r=e.setSharedKey,o=e.setNameAndKey,c=Object(n.useState)(null),i=Object(u.a)(c,2),s=i[0],y=i[1],v=Object(n.useState)(!1),g=Object(u.a)(v,2),E=g[0],w=g[1],x=Object(n.useState)(!0),j=Object(u.a)(x,2),k=j[0],O=j[1],L=Object(n.useState)(!1),_=Object(u.a)(L,2),S=_[0],I=_[1];Object(n.useEffect)((function(){var e=new URL(window.location.href).searchParams.get("join");null!==e&&C(e)}),[]);var C=function(){var e=Object(l.a)(R().mark((function e(t){return R().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!1),e.next=3,K(t,t);case 3:P();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=document.getElementsByClassName("option-container")[0];e.style.transition="margin 0.5s ease-in",e.style.marginLeft="-110%"},G=function(){var e=Object(l.a)(R().mark((function e(){var t;return R().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=document.getElementsByClassName("option-container")[0]).style.transition="margin 0.5s ease-in",t.style.marginLeft="0%",e.next=5,(new F).removeRoomId(s);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){A()},K=function(){var e=Object(l.a)(R().mark((function e(t,n){return R().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(n);case 2:return y(t),e.abrupt("return",Promise.resolve());case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),T=function(){var e=Object(l.a)(R().mark((function e(){var t,r,n;return R().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A(),e.next=3,(new F).getRoomId();case 3:return t=e.sent,r=t.roomId,n=t.shared_key,e.next=8,K(r,n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=a.a.useCallback((function(){return t.push("/demo")}),[t]),U=function(){var e=Object(l.a)(R().mark((function e(){var r,n,a,c;return R().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),r=document.getElementById("username").value,e.prev=2,e.next=5,(new F).createUser(r,s);case 5:return n=e.sent,a=n.name,c=n.private_key,e.next=10,o({name:a,private_key:c});case 10:t.push("/chat"),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),console.log("Error in joining room",e.t0.message),I(!0);case 17:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(){return e.apply(this,arguments)}}();return a.a.createElement("div",{className:"login"},a.a.createElement("h4",{className:"app-header"},"Chat encryption simulator"),a.a.createElement("div",{className:"container"},a.a.createElement("div",{className:"option-container"},a.a.createElement(M,{onInvite:T,onDemo:B})),a.a.createElement("div",{className:"join-container"},a.a.createElement(h.a,{className:"material-card"},a.a.createElement(f.a,{style:z},E?a.a.createElement(a.a.Fragment,null,S?a.a.createElement(b,{goback:function(){I(!1),w(!1),O(!0),G()}}):a.a.createElement("div",{className:"loading-div"},a.a.createElement(m.a,null),a.a.createElement("h5",null,"Joining conversation"))):a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"material-card-icon three"}),a.a.createElement("div",null,a.a.createElement(p.a,{label:"username",id:"username"})),k&&a.a.createElement(N,{id:s}),a.a.createElement("div",{className:"btn-grp btn-join"},a.a.createElement(d.a,{onClick:U,style:Y},"Join"),k&&a.a.createElement("p",{onClick:G},"Go back"))))))))})),H=r(247),W=r(77),q=r(505),Q=(r(285),function(e){var t=e.messages;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"chat"},t.map((function(e,t){var r=e.type,n=e.message,o=e.sender;return a.a.createElement("div",{className:"message ".concat(r),key:t},a.a.createElement(q.a,null,o[0]),a.a.createElement("p",null,n))}))))}),V=function(e){var t=e.messages;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"chat"},t.map((function(e,t){var r=e.type,n=e.message;return a.a.createElement("div",{className:"message ".concat(r," no-avatar-p"),key:t},a.a.createElement("p",null,n))}))))},X=r(242),Z=r.n(X),$=r(241),ee=r.n($),te=r(88),re=r.n(te),ne=(r(159),"0%"),ae=void 0,oe=[{cy:"5%",cindex:1},{cy:"22%",cindex:2},{cy:"41%",cindex:3},{cy:"59%",cindex:4},{cy:"78%",cindex:5},{cy:"95%",cindex:6}],ce=function(e){var t=e.setActiveIndex,r=e.msg;Object(n.useEffect)((function(){void 0!==ae&&clearInterval(ae);for(var e=function(e){setTimeout((function(){document.getElementsByClassName("c".concat(e))[0].setAttribute("class","com-circle c".concat(e))}),500)},t=1;t<=6;t++)e(t);Object(W.a)({targets:".com-line-anim",y2:[ne,"0%"],easing:"linear",duration:1e3}),ne="0%",o()}),[r]);var o=function(){var e=0;ae=setInterval((function(){var t=oe[e];e+=1,c({target:{getAttribute:function(){return t.cy}}},t.cindex),e>=oe.length&&(clearInterval(ae),ae=void 0)}),1e3)},c=function(e,r){if(0!==r){t(r);var n=e.target.getAttribute("cy");n>"90%"&&(n="100%");for(var a=1;a<=r;a++){document.getElementsByClassName("c".concat(a))[0].setAttribute("class","com-circle c".concat(a," active"))}for(var o=r+1;o<=6;o++){document.getElementsByClassName("c".concat(o))[0].setAttribute("class","com-circle c".concat(o))}Object(W.a)({targets:".com-line-anim",y2:[ne,n],easing:"linear",duration:1e3}),ne=n}};return a.a.createElement(a.a.Fragment,null,a.a.createElement("svg",{height:"100%",width:"100%",className:"time-line"},a.a.createElement("line",{x1:"50%",y1:"0%",x2:"50%",y2:"100%",className:"com-line"}),a.a.createElement("line",{x1:"50%",y1:"0%",x2:"50%",className:"com-line-anim"}),a.a.createElement("circle",{cx:"50%",cy:"5%",r:"7",className:"com-circle c1"}),a.a.createElement("circle",{cx:"50%",cy:"22%",r:"7",className:"com-circle c2"}),a.a.createElement("circle",{cx:"50%",cy:"41%",r:"7",className:"com-circle c3"}),a.a.createElement("circle",{cx:"50%",cy:"59%",r:"7",className:"com-circle c4"}),a.a.createElement("circle",{cx:"50%",cy:"78%",r:"7",className:"com-circle c5"}),a.a.createElement("circle",{cx:"50%",cy:"95%",r:"7",className:"com-circle c6"})))},ie=[{sender:"Alice",receiver:"Bob",message:"Hi bob",type:"sent"},{sender:"Bob",receiver:"Alice",message:"Hi alice",type:"received"},{sender:"Alice",receiver:"Bob",message:"How are you?",type:"sent"},{sender:"Bob",receiver:"Alice",message:"Doing great,how about you?",type:"received"},{sender:"Alice",receiver:"Bob",message:"Good,dinner tonight?",type:"sent"},{sender:"Bob",receiver:"Alice",message:"Sure,same place same time?",type:"received"},{sender:"Alice",receiver:"Bob",message:"ok cool",type:"sent"},{sender:"Bob",receiver:"Alice",message:"Yeah!!c ya",type:"received"},{sender:"Alice",receiver:"Bob",message:"Bye",type:"sent"}],se={"-1":0,1:1,2:2,3:3,4:5,5:6,6:8},le={fontSize:"2rem",color:"black"},ue={backgroundColor:"#d3d3d3",marginLeft:"5px",marginRight:"5px"},he=function(){var e=Object(n.useState)([ie[0]]),t=Object(u.a)(e,2),r=t[0],o=t[1],c=Object(n.useState)(ie[0]),i=Object(u.a)(c,2),s=i[0],l=i[1],h=Object(n.useState)(btoa(s.sender+s.receiver+s.message+s.type)),f=Object(u.a)(h,2),m=f[0],p=f[1],y=function(e){for(var t=[],r=se[e]+1;r<=8;r++)t.push(".p"+r);Object(W.a)({targets:t,duration:3e3,opacity:0,begin:function(){t[0]&&(document.querySelector(t[0]).style.display="hidden")}})},v=function(e){l(e);var t=e.sender,r=e.receiver,n=e.message,a=e.type;p(btoa(t+r+n+a))},g=s.sender,E=s.receiver,b=s.message;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"demo-body"},a.a.createElement("div",{className:"demo-page"},a.a.createElement("div",{className:"ui-demo"},a.a.createElement(Q,{messages:r}),r.length===ie.length&&a.a.createElement("p",{className:"eoc-message"},"(You have reached the end of conversation)"),a.a.createElement("div",{className:"action-tab"},a.a.createElement("div",null,a.a.createElement(d.a,{style:ue,onClick:function(){return function(){if(r.length>1){var e=r.filter((function(e,t){return t!==r.length-1}));o(e),v(ie[r.length]),y("-1")}}()}},a.a.createElement(ee.a,{style:le})),a.a.createElement(d.a,{style:ue,onClick:function(){return function(){if(r.length<ie.length){var e=[].concat(Object(H.a)(r),[ie[r.length]]);o(e),v(ie[r.length]),y("-1")}}()}},a.a.createElement(Z.a,{style:le}))))),a.a.createElement("div",{className:"backend-demo"},a.a.createElement("div",{className:"visualization"},a.a.createElement("div",{className:"alice-side"},a.a.createElement("p",{className:"pp p1"},"".concat(g,' sent "').concat(b,'"')),a.a.createElement("p",{className:"pp p2"},a.a.createElement("span",null,"Encrypted using the shared key"),a.a.createElement(re.a,{style:{color:"orange"}})),a.a.createElement("p",{className:"pp p3"},a.a.createElement("span",null,"Encrypted using ".concat(E,"'s public key ")),a.a.createElement(re.a,{style:{color:"green"}})),a.a.createElement("p",{className:"pp p4"},"Encrypted message '".concat(m,"' sent to ").concat(E))),a.a.createElement("div",{className:"tmline"},a.a.createElement(ce,{msg:b,setActiveIndex:function(e){!function(e){for(var t=[],r=1;r<=se[e];r++)t.push(".p"+r);Object(W.a)({targets:t,duration:3e3,opacity:1,begin:function(){document.querySelector(t[0]).style.display="block"}})}(e),y(e)}})),a.a.createElement("div",{className:"bob-side"},a.a.createElement("div",{className:"sixedbox"}," "),a.a.createElement("p",{className:"pp p5"},"Encrypted message '".concat(m,"' received by ").concat(E)),a.a.createElement("p",{className:"pp p6"},a.a.createElement("span",null,"Decrypted using ".concat(E,"'s private key ")),a.a.createElement(re.a,{style:{color:"green"}})),a.a.createElement("p",{className:"pp p7"},a.a.createElement("span",null,"Decrypted using the shared key"),a.a.createElement(re.a,{style:{color:"orange"}})),a.a.createElement("p",{className:"pp p8"},"".concat(E,' received "').concat(b,'"'))))))))},fe=r(248),me=r(246),pe=r(501),de=r(506),ye=r(243),ve=r.n(ye),ge=["orange","indigo"],Ee=function(e){var t=e.users,r=e.logout;return a.a.createElement(a.a.Fragment,null,a.a.createElement("span",null,a.a.createElement("p",null,"All participants"),a.a.createElement(g.a,null,t.map((function(e,t){return a.a.createElement("div",{key:t,className:"user"},a.a.createElement(E.a,null,a.a.createElement(pe.a,null,a.a.createElement(q.a,{style:{backgroundColor:ge[t]}},e[0])),a.a.createElement(de.a,null,e)))})))),a.a.createElement("div",{className:"action"},a.a.createElement("span",{onClick:function(){return r()}},a.a.createElement(ve.a,{fontSize:"small"}),a.a.createElement("p",null,"Logout"))))},be=r(244),we=r.n(be),xe=r(108),je=r.n(xe),ke=r(109),Oe=r.n(ke),Ne=Object(L.a)((function e(t){var r=this;Object(_.a)(this,e),this.encrypt=function(e){return Oe.a.AES.encrypt(e,r.key).toString()},this.decrypt=function(e){return Oe.a.AES.decrypt(e,r.key).toString(Oe.a.enc.Utf8)},this.key=t})),Le=Object(L.a)((function e(t,r,n,a,o){var c=this;Object(_.a)(this,e),this.init=function(){c.socket.on("message",c.receiveMessage),c.socket.on("connect",(function(){c.socket.emit("join",{roomId:c.roomId,username:c.name})})),c.socket.on("ack",(function(e){var t=e.sid,r=e.otherusers;c.sid=t,r&&(c.publicKey=new je.a(r[0].public_key),c.newusercallback(r[0].name))})),c.socket.on("newchatter",(function(e){return c.onNewUserJoins(e)}))},this.onNewUserJoins=function(e){var t=e.username,r=e.public_key;c.publicKey=new je.a(r),c.newusercallback(t)},this.sendMessage=function(e){var t=c.sharedKey.encrypt(e);t=c.publicKey.encrypt(t,"base64"),c.socket.emit("message",{sender:c.name,message:t,roomId:c.roomId,sid:c.sid})},this.receiveMessage=function(e){var t=c.privateKey.decrypt(e.message,"ascii");t=c.sharedKey.decrypt(t),c.callbackFuc(Object(A.a)(Object(A.a)({},e),{},{message:t,type:"received"}))},this.close=function(){c.socket.disconnect()},this.socket=we()("http://localhost:9000"),this.roomId=t,this.name=r,this.sharedKey=new Ne(t),this.sid=null,this.newusercallback=o,this.callbackFuc=a,this.init(),this.privateKey=new je.a(n),this.publicKey=null})),_e=(r(458),function(e){Object(fe.a)(r,e);var t=Object(me.a)(r);function r(e){var n;return Object(_.a)(this,r),(n=t.call(this,e)).onLogout=function(){n.props.history.push("/")},n.onNewUser=function(e){var t=n.state.friends;t.push(e),n.setState({friends:t})},n.addMessage=function(e){var t=n.state.messages;t.push(e),n.setState({message:t})},n.onSend=function(){var e=document.getElementById("user-message"),t=e.value;n.addMessage({sender:n.props.username,message:t,type:"sent"}),n.chatservice.sendMessage(t),e.value=""},n.onReceive=function(e){n.addMessage(e)},n.chatservice=null,n.state={messages:[],friends:[]},n}return Object(L.a)(r,[{key:"componentDidMount",value:function(){var e=this.props,t=e.roomId,r=e.username,n=e.privateKey;this.chatservice=new Le(t,r,n,this.onReceive,this.onNewUser)}},{key:"componentWillUnmount",value:function(){this.chatservice.close()}},{key:"render",value:function(){return a.a.createElement("div",{className:"chat-room"},a.a.createElement("div",{className:"all-participants"},a.a.createElement(Ee,{users:this.state.friends,logout:this.onLogout})),a.a.createElement("div",{className:"messages"},a.a.createElement("div",{className:"header",key:"header"},a.a.createElement(q.a,{style:{backgroundColor:"green"}},"a"),a.a.createElement("div",null,a.a.createElement("p",{className:"captilize"},this.props.username))),a.a.createElement("div",{className:"all-msgs"},a.a.createElement("div",null,a.a.createElement(V,{messages:this.state.messages}))),a.a.createElement("div",{className:"bottom"},a.a.createElement(p.a,{placeholder:"Type your messages here",variant:"outlined",fullWidth:!0,id:"user-message"}),a.a.createElement(d.a,{onClick:this.onSend,style:{backgroundColor:"green",color:"white"}},"Send"))))}}]),r}(a.a.Component)),Se=Object(w.b)((function(e){return{roomId:e.roomId,username:e.username,privateKey:e.privateKey,sharedKey:e.sharedKey}}),null)(_e),Ie=r(249),Ce={roomId:null,username:null,allMessages:[],privateKey:null,sharedKey:null},Fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"login":return Object(A.a)(Object(A.a)({},e),{},{loggedIn:!0});case"setnameandkey":return Object(A.a)(Object(A.a)({},e),{},{privateKey:t.payload.private_key,username:t.payload.name});case"setsharedkey":return Object(A.a)(Object(A.a)({},e),{},{sharedKey:t.payload,roomId:t.payload});default:return e}},Ae=Object(Ie.a)(Fe);var Ge=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(w.a,{store:Ae},a.a.createElement(i.a,null,a.a.createElement(s.a,{path:"/",exact:!0,component:J}),a.a.createElement(s.a,{path:"/demo",component:he}),a.a.createElement(s.a,{path:"/chat",component:Se}))))};c.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(Ge,null)),document.getElementById("root"))}},[[258,1,2]]]);
//# sourceMappingURL=main.0deff551.chunk.js.map